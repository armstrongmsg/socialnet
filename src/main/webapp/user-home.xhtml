<?xml version = "1.0" encoding = "UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<h:body>
	<h2>Social net</h2>
	<hr />

	Users

	<h:form>
		<h:dataTable value="#{networkBean.users}" var="user"
			styleClass="usersTable" headerClass="usersTableHeader"
			rowClasses="usersTableOddRow,usersTableEvenRow">

			<h:column>
				<f:facet name="header">Name</f:facet>
				<h:outputText value="#{user.username}" />
			</h:column>

			<h:column>
				<f:facet name="header">Profile description</f:facet>
				<h:outputText value="#{user.profileDescription}" />
			</h:column>

			<h:column>
				<f:facet name="header">Profile</f:facet>
				<h:commandButton value="Profile"
					action="#{navigationController.showPage}">
					<f:param name="pageId" value="user-profile" />
					<f:setPropertyActionListener target="#{networkBean.user}"
						value="#{user}" />
					<f:setPropertyActionListener target="#{postBean.user}"
						value="#{user}" />
				</h:commandButton>
			</h:column>
		</h:dataTable>
	</h:form>

	<hr />
      
    Feed
      
      <h:form>
		<h:dataTable value="#{postBean.friendsPosts}" var="post"
			styleClass="usersTable" headerClass="usersTableHeader"
			rowClasses="usersTableOddRow,usersTableEvenRow">

			<h:outputText value="#{post.title}" />

			<h:column>
				<f:facet name="header">title</f:facet>
				<h:outputText value="#{post.title}" />
			</h:column>

			<h:column>
				<f:facet name="header">creation time</f:facet>
				<h:outputText value="#{post.date}" />
			</h:column>

			<h:column>
				<f:facet name="header">content</f:facet>
				<h:outputText value="#{post.content}" />
			</h:column>
		</h:dataTable>
	</h:form>

	<h:form>
		<h:commandButton action="#{navigationController.showPage}"
			value="Back">
			<f:param name="pageId" value="home" />
		</h:commandButton>
	</h:form>
	<br />
</h:body>
</html>